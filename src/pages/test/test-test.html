<link rel="import" href="../../../bower_components/polymer/polymer.html" />
<link rel="import" href="../../../bower_components/paper-button/paper-button.html" />
<link rel="import" href="../../../bower_components/polymerfire/firebase-query.html" />
<link rel="import" href="../../../bower_components/polymerfire/firebase-document.html" />
<link rel="import" href="../../../bower_components/paper-input/paper-input.html" />
<link rel="import" href="../../../bower_components/paper-button/paper-button.html" />

<dom-module id="test-test">
  <template>

  <firebase-query
    id="testsDB"
    app-name="main"
    path="test"
    data="{{testsData}}">
  </firebase-query>

  <firebase-document
    id="testDB"
    path="test/[[current]]"
    data="{{testData}}"
    app-name="main">
  </firebase-document>

    <style include="common-styles">
      .main{
        margin: 50px 10% 50px 10%;
        width:80%;
        min-height:700px;
      }

    </style>

    <paper-card class="main">
      <h1>add to query area</h1>
      <paper-input label="position" value="{{current}}"></paper-input>
      <paper-input label="one" value="{{testData.one}}"></paper-input>
      <paper-input label="two" value="{{testData.two}}"></paper-input>
      <paper-button on-tap="nuke">nuke</paper-button>

      <h1>repeat area</h1>
      <template is="dom-repeat" items="{{testsData}}" as="test">
        <p>
          [[test.one]] : [[test.two]]
        </p>
      </template>
    </paper-card>

  </template>

  <script>

      Polymer({
        is: 'test-test',

        properties: {

          current: {
            type: Number,
            value: 0
          },

          one: {
            type: String,
            value: ''
          },

          two: {
            type: String,
            value: ''
          },
        },

        ready:function(){
          this.fire("pageLoaded",{page: this.page});
        },

        addItem: function() {
          this.push("testData", {one: this.one, two: this.two});
        },

        nuke: function() {
          this.set("testData", []);
        }

      });

  </script>

</dom-module>
