<link rel="import" href="dependencies.html" />
<dom-module id="test-test">

  <template>

    <firebase-document
      id="testDB"
      path="homes/[[home]]/patients/[[patient]]/test"
      data="{{testData}}"
      app-name="main">
    </firebase-document>

    <style>

    paper-card{
      width:50%;
      margin:20px 25% 20px 25%;
    }
    .addGoalHeader{
      color:#FFF;
      background-color:#673AB7;
      margin-top:0px !important;
    }
    .addGoalHeader h2{
      margin-top:0px;
      padding:15px;
    }
    #dropdownContent{
      background-color:transparent;
      border:1px solid grey;
      flex-grow:1;

    }
    #dropdownIcon{
      border:1px solid grey;
      padding:5px;
    }
    .guueyDropdown{
      width:50%;
      border: 1px solid grey;
      display:flex;
      flex-direction:row;
      align-items:stretch;
    }
    </style>

    <paper-card>

      <div class="addGoalHeader">
        <h2>Add New Goal</h2>
      </div>

      <guuey-dropdown
        options="[[options]]"
        val="{{testData.test}}"
        icon="av:playlist-add-check">
      </guuey-dropdown>
      {{testData.test}}
    </paper-card>
  </template>

  <script>

    Polymer({

      is: 'test-test',
      ready:function(){

      },
      properties:{
        guueyVal:{
          type:String,
          value:"bob"
        },
        options:{
          type:Array,
          value:[
            "bob",
            "dirk",
            "gertrude"
          ]
        }
      },
      setValAgain:function(){
        console.log("hitting");
        this.val="two";
      },
      setVal:function(e){
        var dropdown=this.$.dropdownContent;
        var selected=dropdown.options[dropdown.selectedIndex].value;
        console.log(this.$.dropdownContent.selectedIndex);
        console.log(dropdown.options[dropdown.selectedIndex].value);
        this.val=selected;
      },
      _computeSelected:function(option){
        if(option===this.val){
          console.log("stuff");
          return true;
        } else {
          return false;
        };
      }
    });

  </script>

</dom-module>
