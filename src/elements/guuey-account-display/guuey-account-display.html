<link rel="import" href="../../../bower_components/polymer/polymer.html" />
<link rel="import" href="../../../bower_components/paper-card/paper-card.html" />
<link rel="import" href="../../../bower_components/paper-button/paper-button.html" />

<!--
`guuey-account-display`
account display element that links to account page. displays email and userImage
main display area is an href to account page which is predefined as "/[[home]]/default/def-account"

@demo demo/index.html
-->

<dom-module is="guuey-account-display">

  <template>

    <style>

      :host {
        display:inline-block;
        padding:10px;
      }

      .accountCard {
        padding:10px;
      }

      .mainRow {
        display:flex;
        flex-direction:row;
        align-items:center;
      }

      .roundedImage {
        width:50px;
        height:50px;
        border-radius:50%;
        clip:auto;
      }

      .textCol {
        flex-grow:1;
        margin:10px;
        display:flex;
        flex-direction:column;
      }

      .mainText {
        margin:0;
        color:#555555;
        font-weight:bold;
        font-size:13px;
      }

      .secondaryText {
        margin:0;
        color:#555555;
        font-weight:lighter;
        font-size:11px;
      }

      .secondRow {
        display:flex;
        flex-direction:row;
        align-items:center;
      }

      .secondRow * {
        flex-grow:1;
      }

      .ref-wrap {
        text-decoration:none;
      }

    </style>

    <a class="ref-wrap" href="/[[home]]/default/def-account">

      <div class="mainRow">
        <img class="roundedImage" src="[[userImage]]" />
        <div class="textCol">
          <p class="mainText">
            [[displayName]]
          </p>
          <p class="secondaryText">
            [[userEmail]]
          </p>
        </div>

      </div>

    </a>

    <div class="secondRow">
      <paper-button on-tap="cancel">cancel</paper-button>
      <paper-button on-tap="logout">logout</paper-button>
    </div>


  </template>

  <script>

    Polymer({
      is:"guuey-account-display",

      properties: {
        //image to be displayed for the user. set from outside. typically taken from the auth user property
        userImage: {
          type:String
        },
        //the display name for the user. set from outside. typically taken from the auth user property
        displayName: {
          type:String
        },
        //the email for the user. set from outside. typically taken from the auth user property
        userEmail: {
          type:String
        },
        //the home account where the user lives. used for href on account display area required for href to account page.
        home: {
          type:String
        }
      },

      //fire close even which can be handled from outside the element to close the dialog containing this element
      cancel:function() {
        this.fire("cancelLogout");
      },

      //fiore logout event which can be handled from outside to perform logout function
      logout:function() {
        this.fire("logout");
      }
    });

  </script>

</dom-module>
