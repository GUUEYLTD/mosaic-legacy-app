<link rel="import" href="dependencies.html" />
<dom-module id="guuey-date-input">

  <template>

    <style include="paper-date-picker-dialog-style">

      paper-button{
        background-color:#41847d;
        color:#FFFFFF;
        font-weight:bold;
        margin:0;
      }
      .label{
        text-transform:uppercase;
        opacity:.7;
        font-size:12px;
        font-weight:bold;
        margin:0;
        padding:5px;
      }
      .container{
        display:flex;
        flex-direction:column;
        padding:5px;
      }

    </style>

      <paper-dialog id="dateDialog" class="paper-date-picker-dialog">
        <paper-date-picker id="paperDate" date={{date}}></paper-date-picker>
        <div class="buttons">
          <paper-button on-tap="cancelDate">Cancel</paper-button>
          <paper-button on-tap="saveDate">Save</paper-button>
        </div>
      </paper-dialog>
      <div class="container">
        <p class="label">
          [[label]]
        </p>
        <paper-button on-tap="openDialog">{{_computeDate(value)}}</paper-button>
      </div>

  </template>

  <script>

    Polymer({

      is: 'guuey-date-input',
      properties:{
        value:{
          type:String,
          value:"",
          notify:true
        },
        lable:{
          type:String,
          value:""
        }
      },
      openDialog:function(){
        this.$.dateDialog.open();
      },
      _computeDate:function(value){
        if(value){
          return value.slice(3,15);
        } else {
          return "Date not set";
        };
      },
      saveDate:function(){
        this.value=this.date.toString();
        this.$.dateDialog.close();
      },
      cancelDate:function(){
        this.$.dateDialog.close();
      }
    });

  </script>

</dom-module>
