<link rel="import" href="dependencies.html" />
<dom-module id="guuey-date-input">

  <template>

    <style include="paper-date-picker-dialog-style">

      paper-button{
        background-color:#41847d;
        color:#FFFFFF;
        font-weight:bold;
        margin:0;
      }
      .label{
        text-transform:uppercase;
        opacity:.7;
        font-size:12px;
        font-weight:bold;
        margin:0;
        padding:5px;
      }
      .container{
        display:flex;
        flex-direction:column;
        padding:5px;
      }
      paper-input{
        --paper-input-container-disabled:{
          opacity:1;
          z-index:1;
        }
        --paper-input-container-underline-disabled:{
          border-bottom: 1px solid #6A49B2;
        }
        --paper-input-container-label:{
          color:#6A49B2;
        }
        --paper-input-container-input:{
          color:#6A49B2;
        }
      }
      .buttonWrapper{
        z-index:2;
      }

    </style>

      <paper-dialog id="dateDialog" class="paper-date-picker-dialog">
        <paper-date-picker id="paperDate" date={{date}}></paper-date-picker>
        <div class="buttons">
          <paper-button on-tap="cancelDate">Cancel</paper-button>
          <paper-button on-tap="saveDate">Save</paper-button>
        </div>
      </paper-dialog>

        <div on-tap="openDialog" class="buttonWrapper">
          <paper-input label="[[label]]" value="{{_computeDate(value)}}" disabled></paper-input>
        </div>
      </div>

  </template>

  <script>

    Polymer({

      is: 'guuey-date-input',
      properties:{
        value:{
          type:String,
          notify:true
        },
        lable:{
          type:String,
          value:""
        }
      },
      openDialog:function(){
        this.$.dateDialog.open();
      },
      _computeDate:function(value){
        if(value){
          return value.slice(3,15);
        } else {
          return "Date not set";
        };
      },
      saveDate:function(){
        this.value=this.date.toString();
        this.$.dateDialog.close();
      },
      cancelDate:function(){
        this.$.dateDialog.close();
      }
    });

  </script>

</dom-module>
