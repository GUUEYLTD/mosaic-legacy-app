<link rel="import" href="dependencies.html" />
<dom-module id="guuey-slider">

  <template>

    <style>
      .sliderContainer{
        display:flex;
        flex-direction:row;
        padding:10px;
      }
      .innerContainer{
        position:relative;
        flex-grow:1;
      }
      .dangerLabel{
        color:blue;
        color:var(--danger-label-color);
        text-transform:uppercase;
        margin:0;
        padding:0;
        align-self: center;
        padding:0 0 15px 10px;
      }
      #slider{
        align-self: center;
        width:100%;
        --paper-slider-height:5px;
        padding-bottom:15px;
      }
      .spectrumDescriptor{
        text-transform:uppercase;
        margin:0;
        padding:0;
        font-size:10px;
      }
      #noRisk{
        position:absolute;
        bottom:5px;
        left:5px;
        color:blue;
      }
      #danger{
        position:absolute;
        bottom:5px;
        right:5px;
        color:red;
      }
    </style>

      <div class="sliderContainer">
        <p class="dangerLabel">
          {{_computeDanger(value)}}
        </p>
        <div class="innerContainer">
          <paper-slider id="slider" max-markers="5" snaps step="1" min="1" max="5" value="{{value}}"></paper-slider>
          <p class="spectrumDescriptor" id="noRisk">
            no risk
          </p>
          <p class="spectrumDescriptor" id="danger">
            danger
          </p>
        </div>
      </div>

  </template>

  <script>

    Polymer({

      is: 'guuey-slider',
      ready:function(){
        this.addEventListener("immediate-value-change", this.updateSliderColor);
      },
      properties:{
        value:{
          type:Number,
          notify:true
        }
      },
      observers:[
        "slidercolorChange(value)"
      ],
      updateSliderColor:function(){
        switch(this.$.slider.immediateValue){
          case 1:
            this.customStyle['--paper-slider-active-color']="blue";
            this.customStyle['--paper-slider-knob-color']="blue";
            this.customStyle['--paper-slider-pin-color']="blue";
            this.updateStyles();
            break;
          case 2:
            this.customStyle['--paper-slider-active-color']="green";
            this.customStyle['--paper-slider-knob-color']="green";
            this.customStyle['--paper-slider-pin-color']="green";
            this.updateStyles();
            break;
          case 3:
            this.customStyle['--paper-slider-active-color']="yellow";
            this.customStyle['--paper-slider-knob-color']="yellow";
            this.customStyle['--paper-slider-pin-color']="yellow";
            this.updateStyles();
            break;
          case 4:
            this.customStyle['--paper-slider-active-color']="orange";
            this.customStyle['--paper-slider-knob-color']="orange";
            this.customStyle['--paper-slider-pin-color']="orange";
            this.updateStyles();
            break;
          case 5:
            this.customStyle['--paper-slider-active-color']="red";
            this.customStyle['--paper-slider-knob-color']="red";
            this.customStyle['--paper-slider-pin-color']="red";
            this.updateStyles();
            break;

          default:
            this.customStyle['--paper-slider-active-color']="blue";
            this.customStyle['--paper-slider-knob-color']="blue";
            this.customStyle['--paper-slider-pin-color']="blue";
            this.updateStyles();
            break;
        };
      },
      slidercolorChange:function(val){
        switch(val){
          case 1:
            this.customStyle['--paper-slider-active-color']="blue";
            this.customStyle['--paper-slider-knob-color']="blue";
            this.customStyle['--paper-slider-pin-color']="blue";
            this.updateStyles();
            break;
          case 2:
            this.customStyle['--paper-slider-active-color']="green";
            this.customStyle['--paper-slider-knob-color']="green";
            this.customStyle['--paper-slider-pin-color']="green";
            this.updateStyles();
            break;
          case 3:
            this.customStyle['--paper-slider-active-color']="yellow";
            this.customStyle['--paper-slider-knob-color']="yellow";
            this.customStyle['--paper-slider-pin-color']="yellow";
            this.updateStyles();
            break;
          case 4:
            this.customStyle['--paper-slider-active-color']="orange";
            this.customStyle['--paper-slider-knob-color']="orange";
            this.customStyle['--paper-slider-pin-color']="orange";
            this.updateStyles();
            break;
          case 5:
            this.customStyle['--paper-slider-active-color']="red";
            this.customStyle['--paper-slider-knob-color']="red";
            this.customStyle['--paper-slider-pin-color']="red";
            this.updateStyles();
            break;

          default:
            this.customStyle['--paper-slider-active-color']="blue";
            this.customStyle['--paper-slider-knob-color']="blue";
            this.customStyle['--paper-slider-pin-color']="blue";
            this.updateStyles();
            break;
        };
      },
      _computeDanger:function(danger){
        var dangerText="";
        switch(danger){
          case 1:
            this.customStyle['--danger-label-color']='blue';
            this.updateStyles();
            return "No Risk";
            break;
          case 2:
            this.customStyle['--danger-label-color']='green';
            this.updateStyles();
            return "Low Risk";
            break;
          case 3:
            this.customStyle['--danger-label-color']='yellow';
            this.updateStyles();
            return "Medium Risk";
            break;
          case 4:
            this.customStyle['--danger-label-color']='orange';
            this.updateStyles();
            return "High Risk";
            break;
          case 5:
            this.customStyle['--danger-label-color']='red';
            this.updateStyles();
            return "Very High Risk!";
            break;
          default:
            this.customStyle['--danger-label-color']='blue';
            this.updateStyles();
            return "Not Set"
            break;
        };
      }
    });

  </script>

</dom-module>
