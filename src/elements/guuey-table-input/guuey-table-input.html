<link rel="import" href="dependencies.html" />
<dom-module id="guuey-table-input">
  <!--takes in a route param from parent to know where to post to db-->
  <!--takes in label param from parent to know what text to display-->
  <template>
    <firebase-document
      id="guueyInputDB"
      app-name="main"
      data="{{inputData}}"
      path="{{route}}">
    </firebase-document>
    <style include "">
      .sectionHeading{
        background-color:#42c6ff;
        width:100%;
      }
      .sectionHeadingText{
        font-size: 24px;
        color:#FFFFFF;
      }
      .subHeadingText{
        color:#FFFFFF;
      }
      .container{
        padding:16px;
      }
      paper-card{
        width:100%;
      }
      table{
        width:100%;
      }
    </style>
    <paper-card>
      <div class="sectionHeading">
        <div class="container">
          <p class="sectionHeadingText">
            {{label}}
          </p>
          <p class="subHeadingText">
            {{label2}} {{tableDataRows}}
          </p>
        </div>
      </div>
      <div class="container">
        <table class="mdl-data-table mdl-js-data-table">
          <thead>
            <tr>
              <th>
              <template is="dom-repeat" items="{{headings}}" as="heading">
                  <td class="mdl-data-table__cell--non-numeric">{{heading}}</td>
              </template>
            </th>
            </tr>
          </thead>
          <tbody>
                <template is="dom-repeat" items="{{tableDataRows}}" as="stuff">
                  <template is="dom-repeat" items="{{stuff}}" as="otherStuff">
                    <tr>
                      <td>
                        {{otherStuff}}
                      </td>
                    </tr>
                  </template>

                </template>
          </tbody>
        </table>
      </div>
    </paper-card>
  </template>

  <script>

    Polymer({
      is:'guuey-table-input',
      ready:function(){
        for(i=0; i<this.inputs.length; i++){
          input=[];
          input.push(this.inputs[i])
          for(x=0; x<this.headings.length; x++){
            heading=this.headings[x];
            input.push(heading);
          };
          this.tableDataRows.push(input);
        };
      },
      properties:{
        route:{
          type:String,
        },
        label:{
          type:String,
        },
        label2:{
          type:String,
        },
        headings:{
          type:Array,
        },
        inputs:{
          type:Array,
        },
        tableDataRows:{
          type:Array,
          value:[],
        }
      },
    });

  </script>
</dom-module>
