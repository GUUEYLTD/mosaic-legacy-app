<link rel="import" href="dependencies.html" />
<dom-module id="guuey-weekday-selector">

  <template>

    <style>
      #weekdays{
        display:flex;
        flex-direction:row;
      }
      #weekdays paper-item{
        display:inline-block;
        flex-grow:1;
        text-transform:uppercase;
        text-align: center;
        --paper-item-selected:{
          border:2px solid green;
          color:green;
        }
        --paper-item:{
          border:1px solid grey;
          color:grey;
        }
      }
      .checkBoxContainer{
        display:inline-block;
        flex-grow:1;
        text-align:center;
      }
      .checkBoxLabel{
        display:block;
        text-transform:uppercase;
      }
      paper-checkbox{
        --paper-checkbox-checked-color:green;
      }
    </style>

      <iron-selector id="weekdays"
        multi attr-for-selected="value"
        selected-values="{{value}}">
        <template is="dom-repeat" items="[[weekdays]]" as="weekday">
          <div value="[[weekday]]" class="checkBoxContainer">
            <div class="checkBoxLabel">
              [[weekday]]
            </div>
            <paper-checkbox checked="{{_computechecked(value, weekday)}}"></paper-checkbox>
          </div>
        </template>
      </iron-selector>
  </template>

  <script>

    Polymer({

      is: 'guuey-weekday-selector',
      properties:{
        weekdays:{
          type:Array,
          value:[
            "mo",
            "tu",
            "we",
            "th",
            "fr",
            "sa",
            "so"
          ]
        },
        value:{
          notify:true,
          observer:"valueChanged",
          value:[
            "mo",
            "tu",
            "we",
            "th",
            "fr",
            "sa",
            "so"
          ]
        }
      },
      _computechecked:function(weekdays, weekday){
        if(weekdays.indexOf(weekday)!=-1){
          return true;
        } else {
          return false;
        };
      },
      valueChanged:function(value){
        if(value===undefined || null){
          this.value=this.weekdays;
        };
      }
    });

  </script>

</dom-module>
